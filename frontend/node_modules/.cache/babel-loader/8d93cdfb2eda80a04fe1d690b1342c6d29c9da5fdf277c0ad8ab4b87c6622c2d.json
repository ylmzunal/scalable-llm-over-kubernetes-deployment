{"ast":null,"code":"var _jsxFileName = \"/Users/yilmazunal/Desktop/GitHub/scalable-llm-over-kubernetes/frontend/src/App.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect, useRef } from 'react';\nimport { Container, Paper, TextField, Button, Typography, Box, Avatar, Chip, CircularProgress, Alert, AppBar, Toolbar, IconButton, Divider, Card, CardContent } from '@mui/material';\nimport { Send as SendIcon, Android as BotIcon, Person as PersonIcon, CloudQueue as CloudIcon, Speed as SpeedIcon, Computer as ComputerIcon } from '@mui/icons-material';\nimport { ThemeProvider, createTheme } from '@mui/material/styles';\nimport CssBaseline from '@mui/material/CssBaseline';\nimport { v4 as uuidv4 } from 'uuid';\nimport axios from 'axios';\n\n// Create a modern theme\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst theme = createTheme({\n  palette: {\n    mode: 'light',\n    primary: {\n      main: '#1976d2'\n    },\n    secondary: {\n      main: '#f50057'\n    },\n    background: {\n      default: '#f5f5f5',\n      paper: '#ffffff'\n    }\n  },\n  shape: {\n    borderRadius: 12\n  }\n});\nconst API_BASE_URL = process.env.REACT_APP_API_URL || 'http://localhost:8000';\nfunction App() {\n  _s();\n  var _stats$llm_service, _stats$system, _stats$connections, _stats$llm_service2;\n  const [messages, setMessages] = useState([]);\n  const [inputMessage, setInputMessage] = useState('');\n  const [isLoading, setIsLoading] = useState(false);\n  const [connectionStatus, setConnectionStatus] = useState('disconnected');\n  const [conversationId] = useState(uuidv4());\n  const [stats, setStats] = useState(null);\n  const [error, setError] = useState(null);\n  const messagesEndRef = useRef(null);\n  const wsRef = useRef(null);\n  const scrollToBottom = () => {\n    var _messagesEndRef$curre;\n    (_messagesEndRef$curre = messagesEndRef.current) === null || _messagesEndRef$curre === void 0 ? void 0 : _messagesEndRef$curre.scrollIntoView({\n      behavior: 'smooth'\n    });\n  };\n  useEffect(scrollToBottom, [messages]);\n  useEffect(() => {\n    // Initialize WebSocket connection\n    initializeWebSocket();\n\n    // Fetch initial stats\n    fetchStats();\n\n    // Cleanup on unmount\n    return () => {\n      if (wsRef.current) {\n        wsRef.current.close();\n      }\n    };\n  }, []);\n  const initializeWebSocket = () => {\n    try {\n      const wsUrl = `ws://${window.location.hostname}:8000/ws/${conversationId}`;\n      wsRef.current = new WebSocket(wsUrl);\n      wsRef.current.onopen = () => {\n        setConnectionStatus('connected');\n        setError(null);\n        console.log('WebSocket connected');\n      };\n      wsRef.current.onmessage = event => {\n        const data = JSON.parse(event.data);\n        if (data.type === 'system') {\n          // Handle system messages\n          console.log('System message:', data.message);\n        } else if (data.response) {\n          // Handle chat responses\n          setMessages(prev => [...prev, {\n            id: uuidv4(),\n            text: data.response,\n            sender: 'bot',\n            timestamp: data.timestamp\n          }]);\n        }\n        setIsLoading(false);\n      };\n      wsRef.current.onclose = () => {\n        setConnectionStatus('disconnected');\n        console.log('WebSocket disconnected');\n\n        // Attempt to reconnect after 5 seconds\n        setTimeout(() => {\n          var _wsRef$current;\n          if (((_wsRef$current = wsRef.current) === null || _wsRef$current === void 0 ? void 0 : _wsRef$current.readyState) === WebSocket.CLOSED) {\n            initializeWebSocket();\n          }\n        }, 5000);\n      };\n      wsRef.current.onerror = error => {\n        setConnectionStatus('error');\n        setError('WebSocket connection failed. Falling back to HTTP API.');\n        console.error('WebSocket error:', error);\n      };\n    } catch (error) {\n      console.error('Failed to initialize WebSocket:', error);\n      setError('Failed to establish real-time connection. Using HTTP API.');\n    }\n  };\n  const fetchStats = async () => {\n    try {\n      const response = await axios.get(`${API_BASE_URL}/stats`);\n      setStats(response.data);\n    } catch (error) {\n      console.error('Failed to fetch stats:', error);\n    }\n  };\n  const sendMessage = async () => {\n    if (!inputMessage.trim()) return;\n    const userMessage = {\n      id: uuidv4(),\n      text: inputMessage,\n      sender: 'user',\n      timestamp: new Date().toISOString()\n    };\n    setMessages(prev => [...prev, userMessage]);\n    setIsLoading(true);\n    setError(null);\n    try {\n      var _wsRef$current2;\n      if (((_wsRef$current2 = wsRef.current) === null || _wsRef$current2 === void 0 ? void 0 : _wsRef$current2.readyState) === WebSocket.OPEN) {\n        // Send via WebSocket\n        wsRef.current.send(JSON.stringify({\n          message: inputMessage,\n          conversation_id: conversationId\n        }));\n      } else {\n        // Fallback to HTTP API\n        const response = await axios.post(`${API_BASE_URL}/chat`, {\n          message: inputMessage,\n          conversation_id: conversationId\n        });\n        setMessages(prev => [...prev, {\n          id: uuidv4(),\n          text: response.data.response,\n          sender: 'bot',\n          timestamp: response.data.timestamp\n        }]);\n        setIsLoading(false);\n      }\n    } catch (error) {\n      setError('Failed to send message. Please try again.');\n      setIsLoading(false);\n      console.error('Error sending message:', error);\n    }\n    setInputMessage('');\n  };\n  const handleKeyPress = event => {\n    if (event.key === 'Enter' && !event.shiftKey) {\n      event.preventDefault();\n      sendMessage();\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(ThemeProvider, {\n    theme: theme,\n    children: [/*#__PURE__*/_jsxDEV(CssBaseline, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 204,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Box, {\n      sx: {\n        flexGrow: 1,\n        height: '100vh',\n        display: 'flex',\n        flexDirection: 'column'\n      },\n      children: [/*#__PURE__*/_jsxDEV(AppBar, {\n        position: \"static\",\n        elevation: 1,\n        children: /*#__PURE__*/_jsxDEV(Toolbar, {\n          children: [/*#__PURE__*/_jsxDEV(BotIcon, {\n            sx: {\n              mr: 2\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 208,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Typography, {\n            variant: \"h6\",\n            component: \"div\",\n            sx: {\n              flexGrow: 1\n            },\n            children: \"Scalable LLM Chatbot - Kubernetes Demo\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 209,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Box, {\n            sx: {\n              display: 'flex',\n              gap: 1\n            },\n            children: [/*#__PURE__*/_jsxDEV(Chip, {\n              icon: /*#__PURE__*/_jsxDEV(CloudIcon, {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 214,\n                columnNumber: 23\n              }, this),\n              label: connectionStatus === 'connected' ? 'Connected' : 'Disconnected',\n              color: connectionStatus === 'connected' ? 'success' : 'error',\n              size: \"small\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 213,\n              columnNumber: 15\n            }, this), stats && /*#__PURE__*/_jsxDEV(Chip, {\n              icon: /*#__PURE__*/_jsxDEV(SpeedIcon, {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 221,\n                columnNumber: 25\n              }, this),\n              label: `${((_stats$llm_service = stats.llm_service) === null || _stats$llm_service === void 0 ? void 0 : _stats$llm_service.messages_processed) || 0} msgs`,\n              color: \"info\",\n              size: \"small\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 220,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 212,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 207,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 206,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Container, {\n        maxWidth: \"md\",\n        sx: {\n          flexGrow: 1,\n          display: 'flex',\n          flexDirection: 'column',\n          py: 2\n        },\n        children: [error && /*#__PURE__*/_jsxDEV(Alert, {\n          severity: \"warning\",\n          sx: {\n            mb: 2\n          },\n          onClose: () => setError(null),\n          children: error\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 233,\n          columnNumber: 13\n        }, this), stats && /*#__PURE__*/_jsxDEV(Card, {\n          sx: {\n            mb: 2\n          },\n          children: /*#__PURE__*/_jsxDEV(CardContent, {\n            sx: {\n              py: 1\n            },\n            children: /*#__PURE__*/_jsxDEV(Box, {\n              sx: {\n                display: 'flex',\n                justifyContent: 'space-between',\n                alignItems: 'center'\n              },\n              children: [/*#__PURE__*/_jsxDEV(Typography, {\n                variant: \"body2\",\n                color: \"text.secondary\",\n                children: [\"Pod: \", ((_stats$system = stats.system) === null || _stats$system === void 0 ? void 0 : _stats$system.pod_name) || 'local', \" | Active Connections: \", ((_stats$connections = stats.connections) === null || _stats$connections === void 0 ? void 0 : _stats$connections.active_websocket_connections) || 0, \" | Uptime: \", Math.round(((_stats$llm_service2 = stats.llm_service) === null || _stats$llm_service2 === void 0 ? void 0 : _stats$llm_service2.uptime_seconds) || 0), \"s\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 242,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(IconButton, {\n                size: \"small\",\n                onClick: fetchStats,\n                children: /*#__PURE__*/_jsxDEV(ComputerIcon, {\n                  fontSize: \"small\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 248,\n                  columnNumber: 21\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 247,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 241,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 240,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 239,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(Paper, {\n          elevation: 3,\n          sx: {\n            flexGrow: 1,\n            display: 'flex',\n            flexDirection: 'column',\n            overflow: 'hidden'\n          },\n          children: [/*#__PURE__*/_jsxDEV(Box, {\n            sx: {\n              p: 2,\n              bgcolor: 'primary.main',\n              color: 'white'\n            },\n            children: [/*#__PURE__*/_jsxDEV(Typography, {\n              variant: \"h6\",\n              children: \"Chat with AI Assistant\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 265,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Typography, {\n              variant: \"body2\",\n              sx: {\n                opacity: 0.9\n              },\n              children: \"This chatbot is running on Kubernetes with auto-scaling capabilities\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 268,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 264,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Box, {\n            sx: {\n              flexGrow: 1,\n              overflow: 'auto',\n              p: 2,\n              display: 'flex',\n              flexDirection: 'column',\n              gap: 2\n            },\n            children: [messages.length === 0 && /*#__PURE__*/_jsxDEV(Box, {\n              sx: {\n                textAlign: 'center',\n                py: 4,\n                color: 'text.secondary'\n              },\n              children: [/*#__PURE__*/_jsxDEV(BotIcon, {\n                sx: {\n                  fontSize: 48,\n                  mb: 2,\n                  opacity: 0.5\n                }\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 285,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(Typography, {\n                variant: \"h6\",\n                children: \"Welcome to the Scalable LLM Chatbot\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 286,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(Typography, {\n                variant: \"body2\",\n                children: \"Start a conversation to test the Kubernetes deployment\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 289,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 284,\n              columnNumber: 17\n            }, this), messages.map(message => /*#__PURE__*/_jsxDEV(Box, {\n              sx: {\n                display: 'flex',\n                justifyContent: message.sender === 'user' ? 'flex-end' : 'flex-start',\n                alignItems: 'flex-start',\n                gap: 1\n              },\n              children: [message.sender === 'bot' && /*#__PURE__*/_jsxDEV(Avatar, {\n                sx: {\n                  bgcolor: 'primary.main',\n                  width: 32,\n                  height: 32\n                },\n                children: /*#__PURE__*/_jsxDEV(BotIcon, {\n                  fontSize: \"small\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 307,\n                  columnNumber: 23\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 306,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(Paper, {\n                sx: {\n                  p: 2,\n                  maxWidth: '70%',\n                  bgcolor: message.sender === 'user' ? 'primary.main' : 'grey.100',\n                  color: message.sender === 'user' ? 'white' : 'text.primary'\n                },\n                children: [/*#__PURE__*/_jsxDEV(Typography, {\n                  variant: \"body1\",\n                  children: message.text\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 319,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(Typography, {\n                  variant: \"caption\",\n                  sx: {\n                    opacity: 0.7,\n                    display: 'block',\n                    mt: 1\n                  },\n                  children: new Date(message.timestamp).toLocaleTimeString()\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 322,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 311,\n                columnNumber: 19\n              }, this), message.sender === 'user' && /*#__PURE__*/_jsxDEV(Avatar, {\n                sx: {\n                  bgcolor: 'secondary.main',\n                  width: 32,\n                  height: 32\n                },\n                children: /*#__PURE__*/_jsxDEV(PersonIcon, {\n                  fontSize: \"small\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 336,\n                  columnNumber: 23\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 335,\n                columnNumber: 21\n              }, this)]\n            }, message.id, true, {\n              fileName: _jsxFileName,\n              lineNumber: 296,\n              columnNumber: 17\n            }, this)), isLoading && /*#__PURE__*/_jsxDEV(Box, {\n              sx: {\n                display: 'flex',\n                justifyContent: 'flex-start',\n                alignItems: 'center',\n                gap: 1\n              },\n              children: [/*#__PURE__*/_jsxDEV(Avatar, {\n                sx: {\n                  bgcolor: 'primary.main',\n                  width: 32,\n                  height: 32\n                },\n                children: /*#__PURE__*/_jsxDEV(BotIcon, {\n                  fontSize: \"small\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 345,\n                  columnNumber: 21\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 344,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(Paper, {\n                sx: {\n                  p: 2,\n                  bgcolor: 'grey.100'\n                },\n                children: /*#__PURE__*/_jsxDEV(Box, {\n                  sx: {\n                    display: 'flex',\n                    alignItems: 'center',\n                    gap: 1\n                  },\n                  children: [/*#__PURE__*/_jsxDEV(CircularProgress, {\n                    size: 16\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 349,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(Typography, {\n                    variant: \"body2\",\n                    color: \"text.secondary\",\n                    children: \"AI is thinking...\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 350,\n                    columnNumber: 23\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 348,\n                  columnNumber: 21\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 347,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 343,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              ref: messagesEndRef\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 358,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 273,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Divider, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 361,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Box, {\n            sx: {\n              p: 2\n            },\n            children: /*#__PURE__*/_jsxDEV(Box, {\n              sx: {\n                display: 'flex',\n                gap: 1\n              },\n              children: [/*#__PURE__*/_jsxDEV(TextField, {\n                fullWidth: true,\n                multiline: true,\n                maxRows: 3,\n                value: inputMessage,\n                onChange: e => setInputMessage(e.target.value),\n                onKeyPress: handleKeyPress,\n                placeholder: \"Type your message...\",\n                variant: \"outlined\",\n                size: \"small\",\n                disabled: isLoading\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 365,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(Button, {\n                variant: \"contained\",\n                onClick: sendMessage,\n                disabled: !inputMessage.trim() || isLoading,\n                sx: {\n                  minWidth: 64\n                },\n                children: /*#__PURE__*/_jsxDEV(SendIcon, {}, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 383,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 377,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 364,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 363,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 255,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 231,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 205,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 203,\n    columnNumber: 5\n  }, this);\n}\n_s(App, \"/s2B/iEoh/1xNdiHGoKa/jHTuUM=\");\n_c = App;\nexport default App;\nvar _c;\n$RefreshReg$(_c, \"App\");","map":{"version":3,"names":["React","useState","useEffect","useRef","Container","Paper","TextField","Button","Typography","Box","Avatar","Chip","CircularProgress","Alert","AppBar","Toolbar","IconButton","Divider","Card","CardContent","Send","SendIcon","Android","BotIcon","Person","PersonIcon","CloudQueue","CloudIcon","Speed","SpeedIcon","Computer","ComputerIcon","ThemeProvider","createTheme","CssBaseline","v4","uuidv4","axios","jsxDEV","_jsxDEV","theme","palette","mode","primary","main","secondary","background","default","paper","shape","borderRadius","API_BASE_URL","process","env","REACT_APP_API_URL","App","_s","_stats$llm_service","_stats$system","_stats$connections","_stats$llm_service2","messages","setMessages","inputMessage","setInputMessage","isLoading","setIsLoading","connectionStatus","setConnectionStatus","conversationId","stats","setStats","error","setError","messagesEndRef","wsRef","scrollToBottom","_messagesEndRef$curre","current","scrollIntoView","behavior","initializeWebSocket","fetchStats","close","wsUrl","window","location","hostname","WebSocket","onopen","console","log","onmessage","event","data","JSON","parse","type","message","response","prev","id","text","sender","timestamp","onclose","setTimeout","_wsRef$current","readyState","CLOSED","onerror","get","sendMessage","trim","userMessage","Date","toISOString","_wsRef$current2","OPEN","send","stringify","conversation_id","post","handleKeyPress","key","shiftKey","preventDefault","children","fileName","_jsxFileName","lineNumber","columnNumber","sx","flexGrow","height","display","flexDirection","position","elevation","mr","variant","component","gap","icon","label","color","size","llm_service","messages_processed","maxWidth","py","severity","mb","onClose","justifyContent","alignItems","system","pod_name","connections","active_websocket_connections","Math","round","uptime_seconds","onClick","fontSize","overflow","p","bgcolor","opacity","length","textAlign","map","width","mt","toLocaleTimeString","ref","fullWidth","multiline","maxRows","value","onChange","e","target","onKeyPress","placeholder","disabled","minWidth","_c","$RefreshReg$"],"sources":["/Users/yilmazunal/Desktop/GitHub/scalable-llm-over-kubernetes/frontend/src/App.js"],"sourcesContent":["import React, { useState, useEffect, useRef } from 'react';\nimport {\n  Container,\n  Paper,\n  TextField,\n  Button,\n  Typography,\n  Box,\n  Avatar,\n  Chip,\n  CircularProgress,\n  Alert,\n  AppBar,\n  Toolbar,\n  IconButton,\n  Divider,\n  Card,\n  CardContent\n} from '@mui/material';\nimport {\n  Send as SendIcon,\n  Android as BotIcon,\n  Person as PersonIcon,\n  CloudQueue as CloudIcon,\n  Speed as SpeedIcon,\n  Computer as ComputerIcon\n} from '@mui/icons-material';\nimport { ThemeProvider, createTheme } from '@mui/material/styles';\nimport CssBaseline from '@mui/material/CssBaseline';\nimport { v4 as uuidv4 } from 'uuid';\nimport axios from 'axios';\n\n// Create a modern theme\nconst theme = createTheme({\n  palette: {\n    mode: 'light',\n    primary: {\n      main: '#1976d2',\n    },\n    secondary: {\n      main: '#f50057',\n    },\n    background: {\n      default: '#f5f5f5',\n      paper: '#ffffff',\n    },\n  },\n  shape: {\n    borderRadius: 12,\n  },\n});\n\nconst API_BASE_URL = process.env.REACT_APP_API_URL || 'http://localhost:8000';\n\nfunction App() {\n  const [messages, setMessages] = useState([]);\n  const [inputMessage, setInputMessage] = useState('');\n  const [isLoading, setIsLoading] = useState(false);\n  const [connectionStatus, setConnectionStatus] = useState('disconnected');\n  const [conversationId] = useState(uuidv4());\n  const [stats, setStats] = useState(null);\n  const [error, setError] = useState(null);\n  const messagesEndRef = useRef(null);\n  const wsRef = useRef(null);\n\n  const scrollToBottom = () => {\n    messagesEndRef.current?.scrollIntoView({ behavior: 'smooth' });\n  };\n\n  useEffect(scrollToBottom, [messages]);\n\n  useEffect(() => {\n    // Initialize WebSocket connection\n    initializeWebSocket();\n    \n    // Fetch initial stats\n    fetchStats();\n    \n    // Cleanup on unmount\n    return () => {\n      if (wsRef.current) {\n        wsRef.current.close();\n      }\n    };\n  }, []);\n\n  const initializeWebSocket = () => {\n    try {\n      const wsUrl = `ws://${window.location.hostname}:8000/ws/${conversationId}`;\n      wsRef.current = new WebSocket(wsUrl);\n\n      wsRef.current.onopen = () => {\n        setConnectionStatus('connected');\n        setError(null);\n        console.log('WebSocket connected');\n      };\n\n      wsRef.current.onmessage = (event) => {\n        const data = JSON.parse(event.data);\n        \n        if (data.type === 'system') {\n          // Handle system messages\n          console.log('System message:', data.message);\n        } else if (data.response) {\n          // Handle chat responses\n          setMessages(prev => [...prev, {\n            id: uuidv4(),\n            text: data.response,\n            sender: 'bot',\n            timestamp: data.timestamp\n          }]);\n        }\n        \n        setIsLoading(false);\n      };\n\n      wsRef.current.onclose = () => {\n        setConnectionStatus('disconnected');\n        console.log('WebSocket disconnected');\n        \n        // Attempt to reconnect after 5 seconds\n        setTimeout(() => {\n          if (wsRef.current?.readyState === WebSocket.CLOSED) {\n            initializeWebSocket();\n          }\n        }, 5000);\n      };\n\n      wsRef.current.onerror = (error) => {\n        setConnectionStatus('error');\n        setError('WebSocket connection failed. Falling back to HTTP API.');\n        console.error('WebSocket error:', error);\n      };\n\n    } catch (error) {\n      console.error('Failed to initialize WebSocket:', error);\n      setError('Failed to establish real-time connection. Using HTTP API.');\n    }\n  };\n\n  const fetchStats = async () => {\n    try {\n      const response = await axios.get(`${API_BASE_URL}/stats`);\n      setStats(response.data);\n    } catch (error) {\n      console.error('Failed to fetch stats:', error);\n    }\n  };\n\n  const sendMessage = async () => {\n    if (!inputMessage.trim()) return;\n\n    const userMessage = {\n      id: uuidv4(),\n      text: inputMessage,\n      sender: 'user',\n      timestamp: new Date().toISOString()\n    };\n\n    setMessages(prev => [...prev, userMessage]);\n    setIsLoading(true);\n    setError(null);\n\n    try {\n      if (wsRef.current?.readyState === WebSocket.OPEN) {\n        // Send via WebSocket\n        wsRef.current.send(JSON.stringify({\n          message: inputMessage,\n          conversation_id: conversationId\n        }));\n      } else {\n        // Fallback to HTTP API\n        const response = await axios.post(`${API_BASE_URL}/chat`, {\n          message: inputMessage,\n          conversation_id: conversationId\n        });\n\n        setMessages(prev => [...prev, {\n          id: uuidv4(),\n          text: response.data.response,\n          sender: 'bot',\n          timestamp: response.data.timestamp\n        }]);\n        setIsLoading(false);\n      }\n    } catch (error) {\n      setError('Failed to send message. Please try again.');\n      setIsLoading(false);\n      console.error('Error sending message:', error);\n    }\n\n    setInputMessage('');\n  };\n\n  const handleKeyPress = (event) => {\n    if (event.key === 'Enter' && !event.shiftKey) {\n      event.preventDefault();\n      sendMessage();\n    }\n  };\n\n  return (\n    <ThemeProvider theme={theme}>\n      <CssBaseline />\n      <Box sx={{ flexGrow: 1, height: '100vh', display: 'flex', flexDirection: 'column' }}>\n        <AppBar position=\"static\" elevation={1}>\n          <Toolbar>\n            <BotIcon sx={{ mr: 2 }} />\n            <Typography variant=\"h6\" component=\"div\" sx={{ flexGrow: 1 }}>\n              Scalable LLM Chatbot - Kubernetes Demo\n            </Typography>\n            <Box sx={{ display: 'flex', gap: 1 }}>\n              <Chip\n                icon={<CloudIcon />}\n                label={connectionStatus === 'connected' ? 'Connected' : 'Disconnected'}\n                color={connectionStatus === 'connected' ? 'success' : 'error'}\n                size=\"small\"\n              />\n              {stats && (\n                <Chip\n                  icon={<SpeedIcon />}\n                  label={`${stats.llm_service?.messages_processed || 0} msgs`}\n                  color=\"info\"\n                  size=\"small\"\n                />\n              )}\n            </Box>\n          </Toolbar>\n        </AppBar>\n\n        <Container maxWidth=\"md\" sx={{ flexGrow: 1, display: 'flex', flexDirection: 'column', py: 2 }}>\n          {error && (\n            <Alert severity=\"warning\" sx={{ mb: 2 }} onClose={() => setError(null)}>\n              {error}\n            </Alert>\n          )}\n\n          {stats && (\n            <Card sx={{ mb: 2 }}>\n              <CardContent sx={{ py: 1 }}>\n                <Box sx={{ display: 'flex', justifyContent: 'space-between', alignItems: 'center' }}>\n                  <Typography variant=\"body2\" color=\"text.secondary\">\n                    Pod: {stats.system?.pod_name || 'local'} | \n                    Active Connections: {stats.connections?.active_websocket_connections || 0} |\n                    Uptime: {Math.round(stats.llm_service?.uptime_seconds || 0)}s\n                  </Typography>\n                  <IconButton size=\"small\" onClick={fetchStats}>\n                    <ComputerIcon fontSize=\"small\" />\n                  </IconButton>\n                </Box>\n              </CardContent>\n            </Card>\n          )}\n\n          <Paper \n            elevation={3} \n            sx={{ \n              flexGrow: 1, \n              display: 'flex', \n              flexDirection: 'column',\n              overflow: 'hidden'\n            }}\n          >\n            <Box sx={{ p: 2, bgcolor: 'primary.main', color: 'white' }}>\n              <Typography variant=\"h6\">\n                Chat with AI Assistant\n              </Typography>\n              <Typography variant=\"body2\" sx={{ opacity: 0.9 }}>\n                This chatbot is running on Kubernetes with auto-scaling capabilities\n              </Typography>\n            </Box>\n\n            <Box \n              sx={{ \n                flexGrow: 1, \n                overflow: 'auto', \n                p: 2,\n                display: 'flex',\n                flexDirection: 'column',\n                gap: 2\n              }}\n            >\n              {messages.length === 0 && (\n                <Box sx={{ textAlign: 'center', py: 4, color: 'text.secondary' }}>\n                  <BotIcon sx={{ fontSize: 48, mb: 2, opacity: 0.5 }} />\n                  <Typography variant=\"h6\">\n                    Welcome to the Scalable LLM Chatbot\n                  </Typography>\n                  <Typography variant=\"body2\">\n                    Start a conversation to test the Kubernetes deployment\n                  </Typography>\n                </Box>\n              )}\n\n              {messages.map((message) => (\n                <Box\n                  key={message.id}\n                  sx={{\n                    display: 'flex',\n                    justifyContent: message.sender === 'user' ? 'flex-end' : 'flex-start',\n                    alignItems: 'flex-start',\n                    gap: 1\n                  }}\n                >\n                  {message.sender === 'bot' && (\n                    <Avatar sx={{ bgcolor: 'primary.main', width: 32, height: 32 }}>\n                      <BotIcon fontSize=\"small\" />\n                    </Avatar>\n                  )}\n                  \n                  <Paper\n                    sx={{\n                      p: 2,\n                      maxWidth: '70%',\n                      bgcolor: message.sender === 'user' ? 'primary.main' : 'grey.100',\n                      color: message.sender === 'user' ? 'white' : 'text.primary',\n                    }}\n                  >\n                    <Typography variant=\"body1\">\n                      {message.text}\n                    </Typography>\n                    <Typography \n                      variant=\"caption\" \n                      sx={{ \n                        opacity: 0.7,\n                        display: 'block',\n                        mt: 1\n                      }}\n                    >\n                      {new Date(message.timestamp).toLocaleTimeString()}\n                    </Typography>\n                  </Paper>\n\n                  {message.sender === 'user' && (\n                    <Avatar sx={{ bgcolor: 'secondary.main', width: 32, height: 32 }}>\n                      <PersonIcon fontSize=\"small\" />\n                    </Avatar>\n                  )}\n                </Box>\n              ))}\n\n              {isLoading && (\n                <Box sx={{ display: 'flex', justifyContent: 'flex-start', alignItems: 'center', gap: 1 }}>\n                  <Avatar sx={{ bgcolor: 'primary.main', width: 32, height: 32 }}>\n                    <BotIcon fontSize=\"small\" />\n                  </Avatar>\n                  <Paper sx={{ p: 2, bgcolor: 'grey.100' }}>\n                    <Box sx={{ display: 'flex', alignItems: 'center', gap: 1 }}>\n                      <CircularProgress size={16} />\n                      <Typography variant=\"body2\" color=\"text.secondary\">\n                        AI is thinking...\n                      </Typography>\n                    </Box>\n                  </Paper>\n                </Box>\n              )}\n\n              <div ref={messagesEndRef} />\n            </Box>\n\n            <Divider />\n            \n            <Box sx={{ p: 2 }}>\n              <Box sx={{ display: 'flex', gap: 1 }}>\n                <TextField\n                  fullWidth\n                  multiline\n                  maxRows={3}\n                  value={inputMessage}\n                  onChange={(e) => setInputMessage(e.target.value)}\n                  onKeyPress={handleKeyPress}\n                  placeholder=\"Type your message...\"\n                  variant=\"outlined\"\n                  size=\"small\"\n                  disabled={isLoading}\n                />\n                <Button\n                  variant=\"contained\"\n                  onClick={sendMessage}\n                  disabled={!inputMessage.trim() || isLoading}\n                  sx={{ minWidth: 64 }}\n                >\n                  <SendIcon />\n                </Button>\n              </Box>\n            </Box>\n          </Paper>\n        </Container>\n      </Box>\n    </ThemeProvider>\n  );\n}\n\nexport default App; "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}